<!DOCTYPE html>
<html>

<head>
	<link rel="stylesheet" href="style.css">
	<meta charset="utf-8">

	<title>Sebastiano</title>

	<script type="text/javascript" src="jquery-3.6.0.min.js"></script>
</head>

<body>
	<ul>
		<li><a href="index.html">Home</a></li>
		<li><a href="contact.html">Contact Us</a></li>
	</ul>

	<table id="tab1"></table>

	<form method="get">

		<fieldset>
			<legend>Aggiungi Persona</legend>
			<label>
				Nome <input id="nome" type="text" /></label>
			<label>
				Cognome <input id="cognome" ttype="text" /></label>
			<label>
				Età <input id="eta" ttype="text" /></label>
			<button type="button" onclick="salvaPersona()">Salva persona</button>
		</fieldset>

	</form>

	<script>
		// Creiamo la prima persona
		let persona1 = {
			nome : "Mario",
			cognome : "Marini",
			eta : 33
		};

		// Creiamo la seconda persona
		let persona2 = {
			nome : "Paolo",
			cognome : "Paolini",
			eta : 30
		};

		// Creiamo la terza persona
		let persona3 = {
			nome : "Gianni",
			cognome : "Giannini",
			eta : 54
		};

		// Creiamo la quarta persona
		let persona4 = {
			nome : "Don",
			cognome : "Matteo",
			eta : 21
		};

		// Creiamo la lista persone
		let arrayPersone = [persona1, persona2, persona3, persona4];


		
		// DICHIARAZIONE FUNZIONE RENDERTABLE (NON LA ESEGUE; DICHIARA SOLO)
		function renderTable() {
			// Reset tabella
			$("#tab1").html("");

			// Creazione header tabella
			$("#tab1").append(
				'<tr class="riga_tile">' + 
					'<td>Nome</td>' + 
					'<td>Cognome</td>' + 
					'<td>Età</td>' +
				'</tr>'
			);
			
			// Cicliamo la lista persone, per ogni persona presente nella lista eseguiamo il codice dentro
			arrayPersone.forEach(function (persona) {
				// Per ogni "persona" di "arrayPersone"
				$("#tab1").append(
					'<tr class="riga_dispari">' + 
						'<td>' + persona.nome + '</td>' + 
						'<td>' + persona.cognome + '</td>' + 
						'<td>' + persona.eta + '</td>' +
					'</tr>'
				);
			});
		}
		

		// Funzione invocata dal form per salvare una nuova persona
		function salvaPersona() {
			let nuovaPersona = {
				nome : $("#nome").val(),
				cognome : $("#cognome").val(),
				eta : $("#eta").val()
			};
			arrayPersone.push(nuovaPersona);

			// Chiamo il render e ricarico la tabella
			renderTable();
		}


		// ESECUZIONE DELLA FUNZIONE CREATA; CHIAMATA DELLA FUNZIONE RENDERTABLE
		renderTable();
	</script>

</body>